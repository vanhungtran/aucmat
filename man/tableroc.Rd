% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tableroc.R
\name{tableroc}
\alias{tableroc}
\title{AUC table for each numeric predictor column}
\usage{
tableroc(
  X,
  y,
  round.digit = 4,
  rank = FALSE,
  ci_level = 0.95,
  ci_method = c("delong", "bootstrap"),
  boot_n = 2000,
  positive = NULL,
  direction = c("auto", "<", ">"),
  na_rm = TRUE,
  na_impute = c("none", "mean", "median", "constant", "median_by_class", "halfmin",
    "quantile", "knn", "mice", "missForest"),
  na_constant = 0,
  na_quantile = 0.25,
  knn_k = 5,
  knn_scale = TRUE,
  knn_weighted = TRUE,
  knn_max_n = 5000,
  mice_m = 1,
  mice_maxit = 5,
  mice_method = "pmm",
  mice_seed = NULL,
  missforest_maxiter = 10,
  missforest_ntree = 100,
  track_na = TRUE
)
}
\arguments{
\item{X}{data.frame or matrix of predictors (only numeric columns are used).}

\item{y}{Binary outcome (factor with 2 levels, logical, or numeric 0/1).}

\item{round.digit}{Integer. Rounding digits for AUC/CIs. Default 4.}

\item{rank}{Logical. If TRUE, sort by AUC desc and add rank. Default FALSE.}

\item{ci_level}{Confidence level for CI. Default 0.95.}

\item{ci_method}{"delong" or "bootstrap". Default "delong".}

\item{boot_n}{Bootstrap reps if method = "bootstrap". Default 2000.}

\item{positive}{Positive class label for factor y (second level used by default).}

\item{direction}{One of "auto", "<", ">". Passed to pROC::roc. Default "auto".}

\item{na_rm}{If TRUE and na_impute = "none", drop rows with any NA in numeric X (after removing NA in y).}

\item{na_impute}{One of "none","mean","median","constant","median_by_class","halfmin","quantile","knn","mice","missForest".}

\item{na_constant}{Constant for "constant" imputation. Default 0.}

\item{na_quantile}{Quantile in (0,1) for "quantile" imputation. Default 0.25.}

\item{knn_k}{Neighbors for KNN. Default 5.}

\item{knn_scale}{Standardize columns before distances. Default TRUE.}

\item{knn_weighted}{Inverse-distance weights in KNN. Default TRUE.}

\item{knn_max_n}{Safety cap for KNN (O(n^2) memory). Default 5000.}

\item{mice_m}{Number of imputations for mice (coerced to 1). Default 1.}

\item{mice_maxit}{Iterations for mice. Default 5.}

\item{mice_method}{Method for mice. Default "pmm".}

\item{mice_seed}{Optional seed for mice.}

\item{missforest_maxiter}{Max iterations for missForest. Default 10.}

\item{missforest_ntree}{Trees for missForest. Default 100.}

\item{track_na}{If TRUE, include NA diagnostics (n_na, n_imputed, na_handling). Default TRUE.}
}
\value{
data.frame with rows = numeric predictors; columns:
biomarker, auc, ci_low, ci_high, ci_level, ci_method, n_pos, n_neg, direction,
na_handling, n_na, n_imputed, and rank (if rank=TRUE).
}
\description{
Compute ROC AUC and confidence intervals for each numeric column of a
matrix or data.frame against a binary outcome using \pkg{pROC}.
Provides robust missing-data handling for X, including row-dropping,
per-column omission, and multiple imputation strategies.
}
\details{
Optional imputation methods (via \code{na_impute}):
\itemize{
\item "none": no imputation (row-drop if \code{na_rm = TRUE}, or per-column omission if \code{na_rm = FALSE})
\item "mean", "median", "constant"
\item "median_by_class": within-outcome medians
\item "halfmin": half of minimum positive value
\item "quantile": column quantile (via \code{na_quantile})
\item "knn": base-R Euclidean KNN (with safety cap)
\item "mice": single imputation (if installed)
\item "missForest": random forest imputation (if installed)
}
}
\examples{
set.seed(123)
X <- data.frame(M1 = c(rnorm(95), rep(NA, 5)), M2 = rnorm(100))
y <- factor(rbinom(100, 1, 0.5), labels = c("neg", "pos"))
tableroc(X, y, na_impute = "median", rank = TRUE)

}
